Alpyca Device - Sample/Template Alpaca (Rotator device)
-------------------------------------------------------
28-Dec-2022 Starting to make notes. I got quite a ways along with this. Now I want to set up
to do the docs ion Sphinx. I don't plan to extract info from docstrings just to keep the
code from being cluttered. I have put comments into the source in plain # form.
Now to set up for making Sphinx docs. What a process. Although I made the Alpyca docs,
and a start on the ASCOM Master docs, using Sphinx and rinohtype, it was so full of crazy
tinkering and problem hunting I just wanted to forget it all Hance these notes so I can
save myself from a fresh round of (repeat) frustrations.

So starting with the RBD-Notes from the Alpyca project and using VSCode for RST writing:

* (21-Jul-2022) Install the Sphinx-related packages into the .venv get all of the sphinx and 
rinoh pieces into the .venv because the reStructuredText extension depends on the esbonio 
language server, and that is actually real-time rendering the document at design time! 
This led to several hours of installing shit.
  ==== AHHHH ====
  Look at the docs/source/conf.py and those things are in the extensions. REDO THE VENV... AGAIN!!! 
* This time I created the venv python -m venv .venv and restarted VSCode. It found the .venv OK. Then I followed
  the prompts to install docutils and esbonio, RESTART, then again via "Problems" to install rinohtype RESTART
  then again to get sphinx_rtd_theme, which BACK-REVVED DOCUTILS to 0.17.1. Damn. These things are in the Sphinx
  conf.py file, which was getting confused with mine before I renamed it. 
* ==== HOORAY ==== The reStructruredText extension is working!! It found the junk .rst files I put there as place
  holders.  Now I need to clean up the Sphinx conf.py ... done.
* Moved over to the RPi. I installed Sphinx, the rsStructuredText VSCode plugin popped up installs for docutils,
  and esbonio. I restarted, esbonio can't install the rinoh.frontend.sphinx plugin. I installed rinohtype
  pip install rinohtype. No luck even after starting VSCode. So I went to https://github.com/brechtm/rinohtype
  and found how to install the latest version via pip/GitHub:
    https://github.com/brechtm/rinohtype
  This installed markdown-it-py-2.1.0 mdit-py-plugins-0.3.3 mdurl-0.1.2 myst-parser-0.18.1 pyyaml-6.0 
  rinohtype-0.5.5, and removed rinohtype-0.5.3. No luck. wtf. It's not showing on the pip list either. 
  HOW WEIRD - Now same deal with sphinx_rtd_theme. So I used the Pip Manager to install them. Well now
  rinoh stuff shows in pip manager but not in the pip list????? Now Esbonio/pip succeeds but without
* Making HTML docs!!! I wanted to disable the "hyperlink not referenced" errors from rstcheck, but
trying to follow the directions in the manual I added a setting "--ignore-errors REGEX_STRING" but no 
luck. So I want back into settings restructuredtext: Linters: Disabled-linters, and disabled rstcheck. 
This caused restructuedtext to start asking to load the restructuredtext_lint package, so I installed
that with pipmanager. It is there now.
* SHIT - Now it is using rst-lint, a brain damaged linter that doesn't know some of the directives
  like .. only:: So I want back and disabled that one. GRRRRR Now it wants doc8. So I installed that with pip.
  HOORAY!!! It is using doc8. This one has ways of controlling the errors and other  stuff. See the
  VSCode settings restructuredtext.linter.doc8.extraArgs and remove the rstcheck shit. Right below
  in the JSON are the disabling items. I must hve done this before (dump rstcheck and rst-lint).
  Anyway doc8 is finding my errors in real time. 

Need to capture this for the log and maybe the 500 server error even
----
2022-12-30 11:35:46 [FALCON] [ERROR] PUT /api/v1/rotator/0/halt => Traceback (most recent call last):
  File "falcon/app.py", line 365, in falcon.app.App.__call__
  File "/home/pi/Documents/alpyca-device/.venv/lib/python3.9/site-packages/falcon/hooks.py", line 264, in do_before
    responder(self, req, resp, **kwargs)
  File "device/rotator.py", line 230, in on_put
    logger.info(f'Halt() from ClientID={get_request_field("ClientID", "??")}')
TypeError: get_request_field() missing 1 required positional argument: 'default'

2022-12-30 11:35:58 [FALCON] [ERROR] PUT /api/v1/rotator/0/halt => Traceback (most recent call last):
  File "falcon/app.py", line 365, in falcon.app.App.__call__
  File "/home/pi/Documents/alpyca-device/.venv/lib/python3.9/site-packages/falcon/hooks.py", line 264, in do_before
    responder(self, req, resp, **kwargs)
  File "device/rotator.py", line 230, in on_put
    logger.info(f'Halt() from ClientID={get_request_field("ClientID", "??")}')
TypeError: get_request_field() missing 1 required positional argument: 'default'
----